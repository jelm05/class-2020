<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Rotate 3D</title>
  </head>

  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){

      // Generate random number variables
      // Iterate over all of the cards, and pass those variables
      // to a css function and apply them individually
      $(".card").each(function(){

        let x = Math.random() * 200 - 100;
        let y = Math.random() * 200 - 100;
        let z = Math.random() * 500 - 250;
        let rx = Math.random() * 360;
        let ry = Math.random() * 360;
        let rz = Math.random() * 360;

        console.log( x, y, z, rx, ry, rz)

        $(this).css({
          webkitTransform : `
            translate3d( ${x}px, ${y}px, ${z}px )
            rotateX(${rx}deg)
            rotateY(${ry}deg)
            rotateZ(${rz}deg)
          `
        });

        // This is the individual .box of each .card
        let parent = $(this).parent();
        let rotationSpeed = Math.random() * 10 - 5;
        let rotate = Math.random() * 360;

        setInterval(function(){
          rotate += rotationSpeed
          parent.css({
            webkitTransform: `rotateY(${rotate}deg)`
          });

        }, 30);

      });



    });
  </script>

  <style media="screen">

    #world {
      -webkit-perspective: 1000;
      -webkit-transform-style: preserve-3d;
    }

    .box {
      -webkit-transform-style: preserve-3d;
    }

    .card {
      position: absolute;
      left: 100px;
      top: 100px;
      width: 100px;
      height: 100px;
      background-color: blue;
      border: 1px solid black;
      -webkit-border-radius: 15px;
    }

    .card:hover {
      background-color: purple;
    }
  </style>

  <body>

    <div id="world">

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

      <div class="box">
        <div class="card"></div>
      </div>

    </div>

  </body>
</html>
